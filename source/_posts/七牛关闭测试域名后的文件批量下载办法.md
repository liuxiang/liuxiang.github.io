title: 七牛关闭测试域名后的文件批量下载办法
date: 2018-10-17 00:00:00


---

[TOC]



---

# 相关讨论帖

`测试域名使用期限超过了，图片无法下载，该怎么办？`

https://segmentfault.com/q/1010000016509088

`七牛云存储 - 用七牛的对象存储做一个图床是不是还要自己去弄一个域名？ - SegmentFault 思否`

https://segmentfault.com/q/1010000016573511



## 解决办法

`七牛测试域名过期之后，图片无法备份，qshell也不行，还有别的办法吗，求助 · Issue #188 · qiniu/qshell`

https://github.com/qiniu/qshell/issues/188



`七牛关闭测试域名后的文件批量下载 · heartnn的自留地`
https://www.heartnn.com/2018/10/09/batch-download-qiniu-files/


```

# 使用qshell工具

重新创建一个测试bucket（会分配一个新的测试域名）
batchcopy 原bucket到新的bucket
qdownload 新 bucket

```


---
# 下载工具(qshell)
https://github.com/qiniu/qshell
https://developer.qiniu.com/kodo/tools/1302/qshell

- 视频教程--命令行工具使用
https://developer.qiniu.com/kodo/kb/3858/video-of-how-to-use-qrs-tools?ref=support.qiniu.com

## 使用qshell下载
```
# 登录
./qshell-darwin-x64 account AccessKey SecretKey

# 生成bucketList : 用于batchcopy
./qshell-darwin-x64 listbucket blog list.txt

# bucketcopy: 提取list.txt中第一列(文件路径)保存为copylist.txt
./qshell-darwin-x64 batchcopy blog blog2 copylist.txt (必须同一个分区,否则异常:incorrect zone)

# 下载 : 设置下载bucket,本地路径
./qshell-darwin-x64 qdownload 10 qdisk_down.conf
- qdisk_down.conf
{
    "dest_dir" : "/Users/***/Desktop/qshell-v2.2.0/backup",
    "bucket" : "blog2",
    "cdn_domain" : "pgu6ynwoq.bkt.clouddn.com",
    "prefix" : "",
    "suffixes" : ""
}
```

---

**其它**

`盘点一下免费好用的图床 - 简书`

https://www.jianshu.com/p/718173c339ee