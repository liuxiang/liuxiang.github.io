title: 数据库表关系检索方法
date: 2018-1-2 00:00:00
categories: 表关系检索
tags: [表关系检索]

---
```
# 表关系试图
drop view sys.table_rela_view;
CREATE VIEW sys.table_rela_view AS
  SELECT
    c.TABLE_SCHEMA DB,
    c.TABLE_NAME,
    t.table_comment 表描述,
    COLUMN_NAME,
    COLUMN_COMMENT 列描述
  FROM INFORMATION_SCHEMA.COLUMNS c, INFORMATION_SCHEMA.TABLES t
  WHERE c.table_name = t.table_name and c.table_schema = t.table_schema
        AND (COLUMN_NAME LIKE '%_id'
             OR COLUMN_NAME LIKE '%_no'
             OR COLUMN_NAME LIKE '%_code'
             OR COLUMN_NAME LIKE '%_name')
        AND c.TABLE_NAME NOT LIKE '%copy%'
        AND c.TABLE_NAME NOT LIKE '%bak%'
        AND c.TABLE_NAME NOT LIKE '%temp%'
        AND c.TABLE_NAME NOT LIKE '%test%'
  ORDER BY TABLE_NAME;
```
```
-- 表关系(_id,_code,_name)
select * from sys.table_rela_view;
```